schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: data/raw/youtube_bulk_raw.csv
      hash: md5
      md5: 38826f18e4f7974ec85dbfb44f126e28
      size: 8004127
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 4f6697ea5022cf585606de6ddf9c19cb
      size: 4318
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/interim
      hash: md5
      md5: a40b48041511242597816bfbbd089c4b.dir
      size: 4555366
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/interim/test.csv
      hash: md5
      md5: 06d3a4336a6cafea5de62b6b58436c19
      size: 912397
    - path: data/interim/train.csv
      hash: md5
      md5: 0ad7051d60952433dba6bafcacbb9ba8
      size: 3642969
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 11b1d909c4ec4c60d69e53721ef00b56
      size: 6791
    outs:
    - path: data/processed
      hash: md5
      md5: 64e83002130119832c847369dfec1c31.dir
      size: 5871889
      nfiles: 2
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: c377bbf5b9d21dd1663701eada638ab7
      size: 1170952
    - path: data/processed/train_processed.csv
      hash: md5
      md5: 79df00a7ff666b246b1aacec73ad8f9c
      size: 4700937
    - path: params.yaml
      hash: md5
      md5: e2e92a181b2e6635373fd60e7598719e
      size: 376
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 7f730df2a920acce00c9f41a1d54f7ef
      size: 6736
    params:
      params.yaml:
        feature_engineering.max_features: 10000
        feature_engineering.ngram_range:
        - 1
        - 3
    outs:
    - path: data/features/scaler.pkl
      hash: md5
      md5: 8cfabd4f63a8eb9cc55e00c43e2b7345
      size: 1743
    - path: data/features/test_features.pkl
      hash: md5
      md5: 882f58fd99caaa27e76f9b6c36541b44
      size: 3451410
    - path: data/features/tfidf_vectorizer.pkl
      hash: md5
      md5: 8bca26c152bed386496005700416c6ed
      size: 384130
    - path: data/features/train_features.pkl
      hash: md5
      md5: 8341eb37c72a207dfc6d55ecd291e3c4
      size: 13949362
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/features/test_features.pkl
      hash: md5
      md5: 882f58fd99caaa27e76f9b6c36541b44
      size: 3451410
    - path: data/features/train_features.pkl
      hash: md5
      md5: 8341eb37c72a207dfc6d55ecd291e3c4
      size: 13949362
    - path: params.yaml
      hash: md5
      md5: e2e92a181b2e6635373fd60e7598719e
      size: 376
    - path: src/model/model_building.py
      hash: md5
      md5: 16601e9fda315bed803c00abb8db7526
      size: 7836
    params:
      params.yaml:
        model_building.eval_metric: mlogloss
        model_building.learning_rate: 0.1
        model_building.max_depth: 7
        model_building.model_type: xgboost
        model_building.n_estimators: 250
        model_building.objective: multi:softprob
    outs:
    - path: models/xgboost_best.pkl
      hash: md5
      md5: 12b8a1a3d2cd5bf80c772436084386c1
      size: 1380849
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/features/test_features.pkl
      hash: md5
      md5: 882f58fd99caaa27e76f9b6c36541b44
      size: 3451410
    - path: models/xgboost_best.pkl
      hash: md5
      md5: 12b8a1a3d2cd5bf80c772436084386c1
      size: 1380849
    - path: params.yaml
      hash: md5
      md5: e2e92a181b2e6635373fd60e7598719e
      size: 376
    - path: src/model/model_evaluation.py
      hash: md5
      md5: da462704a7828e69479a09332f99015c
      size: 4381
    outs:
    - path: reports/confusion_matrix.png
      hash: md5
      md5: c06cf6dc62fdbcfed0369d7f632d4da8
      size: 18452
    - path: reports/metrics.json
      hash: md5
      md5: 90edc7825e61fed2911d61e54983e3ae
      size: 45
